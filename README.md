
# üß≠ B‚Äëspline Tracer ‚Äî PNG ‚Üí –ö–æ–Ω—Ç—É—Ä ‚Üí B‚Äëspline ‚Üí SVG/JSON

–ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –Ω–∞ **Streamlit**, —è–∫–∏–π:
- –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î PNG/JPG (—á/–± –∞–±–æ –∫–æ–ª—å–æ—Ä–æ–≤—ñ),
- –≤–∏–¥—ñ–ª—è—î –∫–æ–Ω—Ç—É—Ä(–∏) —á–µ—Ä–µ–∑ *marching squares*,
- –ø—ñ–¥–≥–∞–Ω—è—î **–ø–µ—Ä—ñ–æ–¥–∏—á–Ω–∏–π B‚Äëspline** (—Å—Ç—É–ø—ñ–Ω—å 2‚Äì5, –∑–≥–ª–∞–¥–∂—É–≤–∞–Ω–Ω—è `s`),
- –≤—ñ–∑—É–∞–ª—ñ–∑—É—î ¬´—Å–∏—Ä–∏–π¬ª –∫–æ–Ω—Ç—É—Ä ‚Üí —Å–ø—Ä–æ—â–µ–Ω—É –ª–∞–º–∞–Ω—É ‚Üí –≥–ª–∞–¥–∫—É –∫—Ä–∏–≤—É,
- –µ–∫—Å–ø–æ—Ä—Ç—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —É **SVG/JSON/CSV**,
- –º–∞—î **—Å—Ç—Ä–æ–≥—É** BeÃÅzier‚Äë–µ–∫—Å—Ç—Ä–∞–∫—Ü—ñ—é –∑ B‚Äëspline (–≤—Å—Ç–∞–≤–∫–∞ –≤—É–∑–ª—ñ–≤ –¥–æ –∫—Ä–∞—Ç–Ω–æ—Å—Ç—ñ *k+1*) —É **–∫—É–±—ñ—á–Ω—ñ –ë–µ–∑—å—î**.

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)

1. **–í—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ**
   ```bash
   pip install -r requirements.txt
   ```

2. **–ó–∞–ø—É—Å—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫**
   ```bash
   streamlit run bspline_trace_app.py
   ```

## üß© –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- **–ë—ñ–Ω–∞—Ä–∏–∑–∞—Ü—ñ—è**: Otsu / Adaptive / Manual (–∑ —ñ–Ω–≤–µ—Ä—Å—ñ—î—é), –¥–∞—É–Ω—Å–∫–µ–ª –ø–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é.
- **–ú–æ—Ä—Ñ–æ–ª–æ–≥—ñ—è**: closing/opening, –∑–∞–ª–∏–≤–∞–Ω–Ω—è –¥—ñ—Ä–æ–∫, –≤–∏–¥–∞–ª–µ–Ω–Ω—è –¥—Ä—ñ–±–Ω–∏—Ö –æ–±‚Äô—î–∫—Ç—ñ–≤.
- **–ö–æ–Ω—Ç—É—Ä–∏**: –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –π —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –ø–ª–æ—â–µ—é; –æ–ø—Ü—ñ—è ¬´–ª–∏—à–µ –Ω–∞–π–±—ñ–ª—å—à–∏–π¬ª.
- **–°–ø—Ä–æ—â–µ–Ω–Ω—è –ª–∞–º–∞–Ω–æ—ó**: –ø–∞—Ä–∞–º–µ—Ç—Ä `tolerance`.
- **B‚Äëspline**: —Å—Ç—É–ø—ñ–Ω—å 2‚Äì5 (`degree`), –∑–≥–ª–∞–¥–∂—É–≤–∞–Ω–Ω—è `s`, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–±—ñ—Ä–∫–∏.
- **–ï–∫—Å–ø–æ—Ä—Ç**:
  - **B‚Äëspline JSON (`tck`)** ‚Äî –≤—É–∑–ª–∏, –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç–∏, —Å—Ç—É–ø—ñ–Ω—å.
  - **SVG (poly)** ‚Äî —à–ª—è—Ö –∑ –≤—ñ–¥—Ä—ñ–∑–∫—ñ–≤ –∫—Ä—ñ–∑—å –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü—ñ—é —Å–ø–ª–∞–π–Ω—É.
  - **SVG (Bezier)** ‚Äî –∫—É–±—ñ—á–Ω—ñ –ë–µ–∑—å—î —á–µ—Ä–µ–∑ Cardinal (Catmull‚ÄëRom) –∑ `tension`.
  - **Strict SVG/JSON** ‚Äî **—Å—Ç—Ä–æ–≥–∞** BeÃÅzier‚Äë–µ–∫—Å—Ç—Ä–∞–∫—Ü—ñ—è (–≤—É–∑–ª–æ–≤–∞ –≤—Å—Ç–∞–≤–∫–∞ ‚Üí –∫—É–±—ñ–∫–∏).
  - **CSV** ‚Äî –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–æ–≤–∞–Ω—ñ —Ç–æ—á–∫–∏ (debug/–∞–Ω–∞–ª—ñ–∑).
- **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏**: —Å–∏—Å—Ç–µ–º–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–≤—ñ—Å—å `y` –¥–æ–Ω–∏–∑—É), 1px = 1—É.–æ.
- **–í–µ–ª–∏–∫—ñ —Ñ–∞–π–ª–∏**: –ª—ñ–º—ñ—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–∂–Ω–∞ –ø—ñ–¥–≤–∏—â–∏—Ç–∏ —É `.streamlit/config.toml` 

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```
.
‚îú‚îÄ bspline_trace_app.py      # –≥–æ–ª–æ–≤–Ω–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
‚îú‚îÄ requirements.txt          # –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ .streamlit/
‚îÇ  ‚îî‚îÄ config.toml            # –∫–æ–Ω—Ñ—ñ–≥ (–ª—ñ–º—ñ—Ç–∏, —Ç–µ–º–∞ —Ç–æ—â–æ)
‚îî‚îÄ README.md
```

## üöÄ Live demo (Streamlit)

[![Open in Streamlit](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](https://b-spline-tracegit-hrj9sjs5am7jvgxzcpvmjm.streamlit.app/)
